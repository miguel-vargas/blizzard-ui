<div class="p-grid" *ngIf="tokenResponse$ | async as tokenResponse; else showSkeletons">
    <p-card class="p-col-12 p-md-6 p-lg-3" *ngFor="let token of tokenResponse.wowTokens">
        <div class="p-d-flex p-ai-center">
            <div *ngIf="token?.region">
                <img class="region-flag p-mr-3" src="https://www.countryflags.io/{{ token.region }}/flat/64.png" />
            </div>
            <div>
                <div class="region-text">
                    {{ token.region | uppercase }}
                </div>
            </div>
        </div>
        <div class="p-d-flex p-flex-column">
            <div class="token-text">
                {{ token.price | copperToGold }}G
            </div>
            <div class="date-text">
                Last Updated: {{ token.lastUpdatedTimestamp | epochToDate | date: "M/d/yy, h:mm a zzzz" }}
            </div>
        </div>
    </p-card>
</div>

<ng-template #showSkeletons>
    <div class="p-grid">
        <p-card class="p-col-12 p-md-6 p-lg-3" *ngFor="let number of [0,1,2,3,4]">
            <div class="p-d-flex p-ai-center">
                <div class="p-my-2">
                    <p-skeleton width="4rem" height="3rem" styleClass="p-mr-3"></p-skeleton>
                </div>
                <div>
                    <p-skeleton width="3rem" height="2rem"></p-skeleton>
                </div>
            </div>
            <div class="p-d-flex p-flex-column">
                <div class="p-my-2">
                    <p-skeleton width="12rem" height="3rem"></p-skeleton>
                </div>
                <div>
                    <p-skeleton width="12rem" height="1rem"></p-skeleton>
                </div>
            </div>
        </p-card>
    </div>
</ng-template>